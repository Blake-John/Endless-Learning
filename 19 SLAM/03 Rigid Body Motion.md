**一个刚体在三维空间中的运动是如何描述**？

> [!PDF|important] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.41](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=48&selection=33,35,46,6&color=important)
> 线性代数库 Eigen。它提供了 C++ 中的矩阵运算，并且它的 Geometry 模块还提供了四元数等刚体运动的描述
# 01 旋转矩阵

![02 Translation and Rotation](../20%20Robotic/02%20Translation%20and%20Rotation.md#02%20转动)

![03 Rotation Matrix](../20%20Robotic/03%20Rotation%20Matrix.md)

# 02 坐标系变换

![05 Transformation Matrix](../20%20Robotic/05%20Transformation%20Matrix.md)

# 03 旋转向量和欧拉角

## 3.1 旋转向量

矩阵用来表示转动和移动有以下的缺点：

> [!PDF|important] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.52](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=59&selection=121,0,142,21&color=important)
> 1. SO(3) 的旋转矩阵有九个量，但一次旋转只有三个自由度。因此这种 **表达方式是冗余的**。同理，变换矩阵用十六个量表达了六自由度的变换。那么，是否有更紧凑的表示呢？ 
> 2. 旋转矩阵自身带有约束：它必须是个正交矩阵，且行列式为 1。变换矩阵也是如此。当我们想要估计或优化一个旋转矩阵/变换矩阵时，这些约束会使得求解变得更困难。

> [!PDF|note] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.53](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=60&selection=6,0,22,32&color=note)
> 因此，我们希望有一种方式能够紧凑地描述旋转和平移。例如，用一个三维向量表达旋转，用六维向量表达变换，可行吗？事实上，这件事我们在前面介绍外积的那部分，提到过这件事如何做。我们介绍了如何用外积表达两个向量的旋转关系。对于坐标系的旋转， 我们知道，**任意旋转都可以用一个旋转轴和一个旋转角来刻画**。于是，我们可以使用一个向量，其 **方向与旋转轴一致**，而 **长度等于旋转角**。这种向量，称为 **旋转向量**（或轴角，AxisAngle）。这种表示法只需一个三维向量即可描述旋转。同样，对于变换矩阵，我们使用一个旋转向量和一个平移向量即可表达一次变换。这时的维数正好是六维。

![视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.53](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=60&rect=53,223,458,483&color=note)

## 3.2 欧拉角

### 3.2.1 旋转

在航空中，有偏航角、俯仰角等说法，我们在对于一个物体绕 ZYX 的转动分解成三个轴上的转角：

> [!PDF|yellow] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.54](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=61&selection=100,0,135,1&color=yellow)
> 1. 绕物体的 **Z 轴** 旋转，得到 ***偏航角 yaw***； 
> 2. 绕旋转之后的 **Y 轴** 旋转，得到 ***俯仰角 pitch***； 
> 3. 绕旋转之后的 **X 轴** 旋转，得到 ***滚转角 roll***。

我们可以使用 $\begin{bmatrix} r && p && y \end{bmatrix}^T$ 这样一个列向量来表述任意的旋转。

![04 Ratation Angles](../20%20Robotic/04%20Ratation%20Angles.md)

### 3.2.2 万向锁

万向锁的问题实际上是在旋转过程中，某一次旋转导致有两个万向节共轴。一般来说，当第二次旋转的角度为90度时，就会导致第一次旋转的转轴和第三次旋转的转轴共线，或者说第一次旋转的万向节与第三次旋转的万向节共面。这种缺失一个自由度的旋转只可能出现在三个转轴不同的情况下。

![视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.55](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=62&rect=48,309,462,600&color=red)

可以参考这个视频 [万向节锁问题](https://www.bilibili.com/video/BV1YJ41127qe/?spm_id_from=333.337.search-card.all.click&vd_source=0f7bf6e98597c64847b8d689f7a280c6) 