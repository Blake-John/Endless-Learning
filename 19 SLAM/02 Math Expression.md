对于 SLAM 的过程，我们应该能够通过数学语言来描述，这样才能将其应用于实际。假设我们在一段运动过程中，取离散时刻 $t$ ，在这些时刻用 $x$ 来表示机器人的位置，且我们设地图是由多个路标构成的，记为 $y_i$ ，那么，机器人的运动由以下两件事情描述：

> [!PDF|red] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.26](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=33&selection=78,0,119,17&color=red)
> 1. 什么是运动？我们要考虑从 $k - 1$ 时刻到 $k$ 时刻，小萝卜的位置 $x$ 是如何变化的。 
> 2. 什么是观测？假设小萝卜在 $k$ 时刻，于 $x_k$  处探测到了某一个路标 $y_j$ ，我们要考虑这件事情是如何用数学语言来描述的。

# 01 运动

通常，机器人会携带一个能够用于测量自身运动的传感器，如码盘或者惯性传感器，可以测量和运动有关的数据的读数，我们使用一个通用的，抽象的数学模型来描述：

$$x_k = f(x_{k-1}, u_k, w_k)\tag{2.1}$$

> [!PDF|yellow] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.26](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=33&selection=150,0,175,1&color=yellow)
> 这里 $u_k$ 是运动传感器的读数（有时也叫 **输入**），$w_k$ 为 **噪声**。注意到，我们用一个一般函数 $f$ 来描述这个过程，而不具体指明 $f$ 的作用方式。这使得整个函数 **可以指代任意的运动传感器**，成为一个通用的方程，而不必限定于某个特殊的传感器上。我们把它称为 **运动方程**。

> [!PDF|yellow] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.26](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=33&selection=176,0,199,4&color=yellow)
> 与运动方程相对应，还有一个 **观测方程**。观测方程描述的是，当小萝卜在 $x_k$ 位置上看到 **某个路标点** $y_j$ ，产生了一个 **观测数据** $z_{k,j}$ 。同样，我们用一个抽象的函数 $h$ 来描述这个关系：

$$z_{k, j} = h(y_j, x_k, v_{k, j}) \tag{2.2}$$

其中， $v_{k, j}$ 为这次观测里的 **噪声** 。

> [!PDF|red] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.27](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=34&selection=320,0,348,5&color=red)
> 这两个方程描述了最基本的 SLAM 问题：当我们知道运动测量的读数 $u$，以及传感器的读数 $z$ 时，如何求解定位问题（估计 $x$）和建图问题（估计 $y$）？这时，我们把 SLAM 问题建模成了一个状态估计问题：如何通过带有噪声的测量数据，估计内部的、隐藏着的状态变量？

> [!PDF|note] [视觉SLAM十四讲 从理论到实践_高翔; 张涛; 等, p.28](19%20SLAM/视觉SLAM十四讲%20从理论到实践_高翔;%20张涛;%20等.pdf#page=35&selection=12,0,42,17&color=note)
> 状态估计问题的求解，与两个方程的具体形式，以及噪声服从哪种分布有关。
> 
> 我们按照 **运动和观测方程是否为线性**，**噪声是否服从高斯分布进行分类**，分为 **线性/非线性** 和 **高斯/非高斯** 系统。
> 
> 其中 **线性高斯系统（Linear Gaussian, LG 系统）** 是最简单的，它的 **无偏的最优估计可以由卡尔曼滤波器（Kalman Filter, KF）给出**。而在复杂的 **非线性非高斯系统 （Non-Linear Non-Gaussian，NLNG 系统）** 中，我们会使用以 **扩展卡尔曼滤波器（Extended Kalman Filter, EKF）和非线性优化**两大类方法去求解它。

